\section{Annotated AST}

Setelah type checking, setiap node AST di-annotate dengan informasi tipe. Ini memudahkan fase selanjutnya (code generation) untuk mengetahui tipe setiap ekspresi.

\begin{lstlisting}[language=C++, caption=Annotated AST Node]
class ASTNode {
public:
    NodeType nodeType;
    int line, column;
    Type type;  // Annotated type (setelah type checking)
    
    virtual ~ASTNode() = default;
};

// Contoh penggunaan
Type TypeChecker::checkExpression(ASTNode* expr) {
    Type t = inferType(expr);
    expr->type = t;  // Annotate node dengan type
    return t;
}
\end{lstlisting}