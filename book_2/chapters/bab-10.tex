\documentclass[../main.tex]{subfiles}

\addbibresource{\subfix{../references.bib}}

\begin{document}

\ifSubfilesClassLoaded{%
    \setcounter{chapter}{9}%
    \begin{refsection}
}{}

\chapter{Runtime Environment dan Memory Management}
\label{chap:runtime-environment}

\begin{subcpmk}
  \item \textbf{Sub-CPMK 5.1:} Mendesain runtime environment untuk bahasa pemrograman
\end{subcpmk}

% ============================================================
% MATERI POKOK
% ============================================================
\input{sections/bab-10/section-10-1}
\input{sections/bab-10/section-10-2}
\input{sections/bab-10/section-10-3}
\input{sections/bab-10/section-10-4}
\input{sections/bab-10/section-10-5}
\input{sections/bab-10/section-10-6}

% ============================================================
% AKTIVITAS PEMBELAJARAN
% ============================================================
\begin{aktivitas}
  \item \textbf{Memory Layout}: Implementasikan simulator memory layout program.
  \item \textbf{Activation Records}: Bangun activation record management system.
  \item \textbf{Parameter Passing}: Implementasikan berbagai parameter passing methods.
  \item \textbf{Heap Management}: Implementasikan heap allocator dengan first-fit algorithm.
  \item \textbf{Garbage Collection}: Bangun simple mark-and-sweep garbage collector.
\end{aktivitas}

% ============================================================
% LATIHAN DAN REFLEKSI
% ============================================================
\begin{latihan}
  \item Gambarkan memory layout untuk program dengan recursive functions!
  \item Implementasikan activation record untuk function dengan nested scopes!
  \item Analisis perbedaan pass by value, reference, dan value-result!
  \item Implementasikan heap manager dengan fragmentation handling!
  \item Desain garbage collection algorithm untuk object-oriented language!
  \item \textbf{Refleksi}: Bagaimana runtime environment mempengaruhi performance program?
\end{latihan}

% ============================================================
% ASESMEN
% ============================================================
\begin{asesmen}
\textbf{Instrumen Penilaian untuk Sub-CPMK 5.1}

\textbf{A. Pilihan Ganda}

\begin{enumerate}
  \item Activation record disimpan di:
  \begin{enumerate}
    \item Heap
    \item Stack
    \item Static area
    \item Code segment
  \end{enumerate}
  
  \item Pass by reference mengirimkan:
  \begin{enumerate}
    \item Nilai variabel
    \item Alamat variabel
    \item Copy variabel
    \item Pointer ke pointer
  \end{enumerate}
  
  \item Garbage collection menghapus:
  \begin{enumerate}
    \item Semua objek
    \item Objek yang tidak reachable
    \item Objek yang besar
    \item Objek yang lama
  \end{enumerate}
\end{enumerate}

\textbf{B. Essay}

\begin{enumerate}
  \item Jelaskan prosedur call mechanism lengkap dengan activation record management!
  \item Desain runtime environment untuk bahasa dengan support untuk dynamic arrays dan garbage collection!
\end{enumerate}

\textbf{Rubrik Penilaian}: Lihat Lampiran A
\end{asesmen}

% ============================================================
% CHECKLIST KOMPETENSI
% ============================================================
\begin{checklist}
  \item Saya dapat mendesain runtime environment untuk bahasa pemrograman
  \item Saya dapat mengimplementasikan memory layout yang efisien
  \item Saya dapat membangun activation record management
  \item Saya dapat mengimplementasikan berbagai parameter passing methods
  \item Saya dapat mendesain heap management system
  \item Saya dapat mengimplementasikan garbage collection
\end{checklist}

% ============================================================
% RANGKUMAN
% ============================================================
\begin{rangkuman}
Bab ini membahas runtime environment dan memory management, termasuk memory layout, activation records, parameter passing, heap management, dan garbage collection. Mahasiswa belajar mendesain infrastruktur runtime yang efisien.

\textbf{Poin Kunci:}
\begin{itemize}
  \item Runtime environment menyediakan infrastruktur untuk eksekusi program
  \item Memory layout terdiri dari stack, heap, static area, dan code segment
  \item Activation records mengelola function calls dan local variables
  \item Parameter passing methods memiliki trade-off berbeda
  \item Heap management mengelola dynamic memory allocation
  \item Garbage collection otomatis menghapus objek yang tidak digunakan
\end{itemize}

\textbf{Kata Kunci}: \compiler{Runtime Environment}, \compiler{Memory Layout}, \compiler{Activation Record}, \compiler{Parameter Passing}, \compiler{Heap Management}, \compiler{Garbage Collection}, \compiler{Stack Frame}
\end{rangkuman}

\ifSubfilesClassLoaded{%
    \clearpage
    \printbibliography[title={Daftar Pustaka}]
    \end{refsection}
}{}

\end{document}
